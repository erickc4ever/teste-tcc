<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√§nalitks - A sua su√≠te financeira</title>
    <!-- CSS de Estrutura -->
    <link rel="stylesheet" href="main.css">
    <!-- CSS de Estilo e Tema -->
    <link rel="stylesheet" href="style.css">
    <!-- Biblioteca do Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <!-- Bot√£o de Troca de Tema -->
    <button id="theme-toggle-btn" class="theme-toggle-btn">üåô</button>
<div id="auth-screen" class="screen">
        <div class="calculator-card">
            <div class="logo-container">
                <img src="logo.svg" alt="Logo da √§nalitks" class="logo-img">
            </div>
            <div class="card-header">
                <h1>Bem-vindo(a)</h1>
                <p>Entre para aceder √† sua su√≠te financeira.</p>
            </div>
            <div id="auth-choices" class="auth-choices">
                <button id="show-signup-btn" class="btn btn-primary">Sou novo aqui</button>
                <button id="show-login-btn" class="btn btn-secondary">J√° tenho cadastro</button>
            </div>
            <form id="login-form" class="auth-form hidden">
                <input type="email" id="login-email" class="input-field" placeholder="Seu e-mail" required>
                <input type="password" id="login-password" class="input-field" placeholder="Sua senha" required>
                <button type="submit" class="btn btn-primary">Entrar</button>
                <p>N√£o tem uma conta? <a href="#" id="show-signup-link">Registre-se</a></p>
            </form>
            <form id="signup-form" class="auth-form hidden">
                <input type="email" id="signup-email" class="input-field" placeholder="Seu melhor e-mail" required>
                <input type="password" id="signup-password" class="input-field" placeholder="Crie uma senha forte" required>
                <button type="submit" class="btn btn-primary">Criar conta</button>
                <p>J√° tem uma conta? <a href="#" id="show-login-link">Fa√ßa login</a></p>
            </form>
        </div>
    </div>

    <!-- TELA DE ESCOLHA DE PERFIL -->
    <div id="welcome-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1 id="welcome-message-choice">Ol√°!</h1>
                <p>O seu perfil de trabalho ajuda-nos a personalizar as ferramentas. Como voc√™ trabalha?</p>
            </div>
            <div class="auth-choices">
                <button id="goto-clt-dashboard-btn" class="btn btn-primary">Sou CLT</button>
                <button id="goto-pj-dashboard-btn" class="btn btn-secondary">Sou PJ / Freelancer</button>
            </div>
        </div>
    </div>
  <!-- TELA DA DASHBOARD (CLT) -->
<div id="dashboard-screen" class="screen hidden">
    <div class="calculator-card">
        <div class="card-header">
            <h1 id="welcome-message">Dashboard CLT</h1>
            <p>Passe o rato sobre um cart√£o para saber mais.</p>
            <p id="dashboard-quote" class="explanation-text"></p>
        </div>
        
        <div class="dashboard-grid">
            <!-- Card 1 a 6 (Existentes) -->
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-clt"><h3>C√°lculo de Sal√°rio</h3></div><div class="card-back card-clt"><p>Descubra o valor l√≠quido do seu sal√°rio ap√≥s todos os descontos de INSS e IRRF.</p><button id="goto-salario-btn" class="btn btn-primary">Calcular Agora</button></div></div></div>
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-clt"><h3>Simulador de Investimentos</h3></div><div class="card-back card-clt"><p>Veja o poder dos juros compostos e projete o crescimento do seu patrim√≥nio ao longo do tempo.</p><button id="goto-investimentos-btn" class="btn btn-primary">Simular Agora</button></div></div></div>
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-clt"><h3>C√°lculo de F√©rias</h3></div><div class="card-back card-clt"><p>Planeie o seu descanso e saiba exatamente quanto ir√° receber, incluindo o ter√ßo constitucional.</p><button id="goto-ferias-btn" class="btn btn-primary">Planear F√©rias</button></div></div></div>
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-clt"><h3>C√°lculo de 13¬∫ Sal√°rio</h3></div><div class="card-back card-clt"><p>Estime o valor do seu 13¬∫, com o detalhe das parcelas e descontos aplic√°veis.</p><button id="goto-decimo-terceiro-btn" class="btn btn-primary">Calcular 13¬∫</button></div></div></div>
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-clt"><h3>Quanto Vale a Minha Hora?</h3></div><div class="card-back card-clt"><p>Descubra o valor real de uma hora do seu trabalho com base no seu sal√°rio e jornada.</p><button id="goto-hora-valor-btn" class="btn btn-primary">Descobrir Valor</button></div></div></div>
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-clt"><h3>Simulador Anual de IRPF</h3></div><div class="card-back card-clt"><p>Compare a declara√ß√£o completa com a simplificada e descubra qual √© a mais vantajosa para si.</p><button id="goto-irpf-btn" class="btn btn-primary">Simular IRPF</button></div></div></div>
            
            <!-- NOVO CART√ÉO DE APOSENTADORIA -->
            <div class="card-container">
                <div class="flipping-card-inner">
                    <div class="card-front card-clt"><h3>Proje√ß√£o de Aposentadoria</h3></div>
                    <div class="card-back card-clt">
                        <p>Descubra quanto precisa de juntar para se aposentar com a renda que deseja.</p>
                        <button id="goto-aposentadoria-btn" class="btn btn-primary">Projetar Futuro</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-footer">
            <button id="goto-profile-btn" class="btn btn-secondary">Meu Perfil</button>
            <button id="goto-reports-btn" class="btn btn-secondary">Minha Vis√£o Geral</button>
            <button id="show-about-btn" class="btn btn-secondary">Sobre e Par√¢metros</button>
            <!-- CORRE√á√ÉO: O ID deste bot√£o estava incorreto e causava conflitos. -->
            <button id="back-to-welcome-from-clt" class="btn btn-secondary">Voltar para a Escolha</button>
            <button id="logout-btn" class="btn btn-primary">Sair</button>
        </div>
    </div>
</div>

<!-- TELA DA DASHBOARD PJ -->
<div id="pj-dashboard-screen" class="screen hidden">
    <div class="calculator-card">
        <div class="card-header">
            <h1>Dashboard PJ / Freelancer</h1>
            <p>Passe o rato sobre um cart√£o para saber mais.</p>
        </div>
        <div class="dashboard-grid">
            <!-- Card 1 e 2 (Existentes) -->
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-pj"><h3>Calcular Simples Nacional</h3></div><div class="card-back card-pj"><p>Estime o valor do seu imposto mensal (DAS) com base no seu faturamento e anexo de servi√ßo.</p><button id="goto-simples-nacional-btn" class="btn btn-primary">Calcular Imposto</button></div></div></div>
            <div class="card-container"><div class="flipping-card-inner"><div class="card-front card-pj"><h3>Valor da Hora Freelancer</h3></div><div class="card-back card-pj"><p>Defina o pre√ßo da sua hora de trabalho incluindo seu sal√°rio, custos fixos e dias de descanso.</p><button id="goto-pj-hora-valor-btn" class="btn btn-primary">Definir Pre√ßo</button></div></div></div>

            <!-- NOVO CART√ÉO DE APOSENTADORIA -->
            <div class="card-container">
                <div class="flipping-card-inner">
                    <div class="card-front card-pj"><h3>Proje√ß√£o de Aposentadoria</h3></div>
                    <div class="card-back card-pj">
                        <p>Descubra quanto precisa de juntar para se aposentar com a renda que deseja.</p>
                        <button id="goto-aposentadoria-btn-pj" class="btn btn-primary">Projetar Futuro</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="dashboard-footer">
            <button id="show-about-btn-pj" class="btn btn-secondary">Sobre e Par√¢metros</button>
            <button id="back-to-welcome-from-pj" class="btn btn-secondary">Voltar para a Escolha</button>
            <button id="logout-btn-pj" class="btn btn-primary">Sair</button>
        </div>
    </div>
</div>


    <!--modal aposentadoria-->
        <!-- TELA DE C√ÅLCULO DO SIMPLES NACIONAL -->
    <div id="simples-nacional-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>C√°lculo do Simples Nacional (DAS)</h1>
                <p>Estime o imposto mensal para a sua empresa de servi√ßos.</p>
            </div>
            <div class="input-group">
                <label for="faturamento-mensal">Faturamento Mensal (R$)</label>
                <input type="number" id="faturamento-mensal" class="input-field" placeholder="Ex: 6000.00">
                
                <label for="anexo-simples">Anexo da sua Atividade</label>
                <select id="anexo-simples" class="input-field">
                    <option value="anexo3">Anexo III (Ex: dentistas, m√©dicos, academias)</option>
                    <option value="anexo5">Anexo V (Ex: consultoria, publicidade, engenharia)</option>
                </select>
            </div>
            <button id="calcular-simples-btn" class="btn btn-primary">Calcular Imposto</button>
            <button id="back-to-pj-dashboard-from-simples" class="btn btn-secondary">Voltar para a Dashboard PJ</button>
            
            <div id="simples-results-section" class="results-section hidden">
                <div class="result-line">
                    <span>Faturamento Bruto Anual (RBT12) Estimado:</span>
                    <span id="resultado-rbt12" class="font-bold">R$ 0,00</span>
                </div>
                <p class="explanation-text">O Simples Nacional baseia-se no seu faturamento dos √∫ltimos 12 meses para definir a sua faixa de imposto.</p>
                <div class="result-line">
                    <span>Al√≠quota Efetiva:</span>
                    <span id="resultado-aliquota-efetiva" class="font-bold">0.00%</span>
                </div>
                 <p class="explanation-text">Esta √© a percentagem real que ser√° aplicada sobre o seu faturamento deste m√™s para calcular o imposto.</p>
                <hr>
                <div class="result-line final-result">
                    <span>Valor do Imposto (DAS):</span>
                    <span id="resultado-valor-das" class="font-bold success-text">R$ 0,00</span>
                </div>
                <p class="explanation-text" id="explicacao-simples"></p>
                <button id="salvar-simples-nacional-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar C√°lculo</button>
            </div>
        </div>
    </div>

    <!-- TELA DE C√ÅLCULO DE VALOR DA HORA PJ -->
    <div id="pj-hora-valor-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Valor da Hora para Freelancer/PJ</h1>
                <p>Calcule quanto cobrar pela sua hora de trabalho, incluindo custos e tempo livre.</p>
            </div>
            <div class="input-group">
                <label for="pj-salario-desejado">Sal√°rio Mensal Desejado (L√≠quido)</label>
                <input type="number" id="pj-salario-desejado" class="input-field" placeholder="Ex: 5000.00">
                <label for="pj-custos-fixos">Custos Fixos Mensais (R$)</label>
                <input type="number" id="pj-custos-fixos" class="input-field" placeholder="Aluguer, software, etc.">
                <label for="pj-ferias-ano">Dias de F√©rias por Ano</label>
                <input type="number" id="pj-ferias-ano" class="input-field" placeholder="Ex: 30" value="30">
                <label for="pj-horas-dia">Horas Produtivas por Dia</label>
                <input type="number" id="pj-horas-dia" class="input-field" placeholder="Ex: 6" value="6">
                <label for="pj-dias-semana">Dias Trabalhados por Semana</label>
                <input type="number" id="pj-dias-semana" class="input-field" placeholder="Ex: 5" value="5">
            </div>
            <button id="calcular-pj-hora-valor-btn" class="btn btn-primary">Calcular Valor da Hora</button>
            <button id="back-to-pj-dashboard-from-hora" class="btn btn-secondary">Voltar para a Dashboard PJ</button>
            <div id="pj-hora-valor-results-section" class="results-section hidden">
                <div class="result-line final-result">
                    <span>O valor m√≠nimo da sua hora deve ser:</span>
                    <span id="resultado-pj-hora-valor" class="font-bold success-text">R$ 0,00</span>
                </div>
                <p class="explanation-text" id="explicacao-pj-hora-valor">Este valor cobre o seu sal√°rio desejado, custos, f√©rias e impostos.</p>
                <button id="salvar-pj-hora-valor-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar Resultado</button>
            </div>
        </div>
    </div>


    <!-- TELA DE C√ÅLCULO DE SAL√ÅRIO -->
    <div id="salario-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>C√°lculo de Sal√°rio Completo</h1>
                <p>Insira os valores para ver o detalhamento.</p>
            </div>
            <div class="input-group">
                <label for="salario-bruto">Sal√°rio Bruto Mensal</label>
                <input type="number" id="salario-bruto" class="input-field" placeholder="Ex: 3500.00">
                <label for="salario-dependentes">N√∫mero de Dependentes</label>
                <input type="number" id="salario-dependentes" class="input-field" placeholder="Ex: 1" value="0">
            </div>
            <button id="calcular-salario-btn" class="btn btn-primary">Calcular Sal√°rio</button>
            <button id="back-to-dashboard-from-salario" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            <div id="salario-results-section" class="results-section hidden">
                <div class="result-line">
                    <span>Sal√°rio Bruto:</span>
                    <span id="resultado-salario-bruto">R$ 0,00</span>
                </div>
                <hr>
                <div class="result-line">
                    <span>Desconto INSS:</span>
                    <span id="resultado-inss">- R$ 0,00</span>
                </div>
                <p class="explanation-text" id="explicacao-inss"></p>
                <div class="result-line">
                    <span>Base de C√°lculo IRRF (Bruto - INSS):</span>
                    <span id="resultado-base-irrf">R$ 0,00</span>
                </div>
                <div class="result-line">
                    <span>Desconto IRRF:</span>
                    <span id="resultado-irrf">- R$ 0,00</span>
                </div>
                <p class="explanation-text" id="explicacao-irrf"></p>
                <hr>
                <div class="result-line final-result">
                    <span>Sal√°rio L√≠quido:</span>
                    <span id="resultado-salario-liquido" class="font-bold">R$ 0,00</span>
                </div>
                <button id="salvar-salario-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar Resultado</button>
            </div>
        </div>
    </div>

    <!-- TELA DO SIMULADOR DE INVESTIMENTOS -->
    <div id="investimentos-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Simulador de Investimentos</h1>
                <p>Veja o poder dos juros compostos em a√ß√£o.</p>
            </div>
            <div class="input-group">
                <label for="valor-inicial">Valor Inicial (R$)</label>
                <input type="number" id="valor-inicial" class="input-field" placeholder="Ex: 1000.00">
                <label for="aporte-mensal">Aporte Mensal (R$)</label>
                <input type="number" id="aporte-mensal" class="input-field" placeholder="Ex: 300.00">
                <label for="taxa-juros-anual">Taxa de Juros Anual (%)</label>
                <input type="number" id="taxa-juros-anual" class="input-field" placeholder="Ex: 10">
                <label for="periodo-anos">Per√≠odo (em anos)</label>
                <input type="number" id="periodo-anos" class="input-field" placeholder="Ex: 5">
            </div>
            <button id="calcular-investimentos-btn" class="btn btn-primary">Simular</button>
            <button id="back-to-dashboard-from-investimentos" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            <div id="investimentos-results-section" class="results-section hidden">
                <div class="result-line final-result">
                    <span>Valor Final Acumulado:</span>
                    <span id="resultado-valor-final" class="font-bold">R$ 0,00</span>
                </div>
                 <p class="explanation-text">Este √© o valor total que voc√™ ter√° ao final do per√≠odo, somando o que voc√™ investiu mais os juros.</p>
                <hr>
                <div class="result-line">
                    <span>Total Investido (Seu Esfor√ßo):</span>
                    <span id="resultado-total-investido">R$ 0,00</span>
                </div>
                 <p class="explanation-text">Este √© o montante total que saiu do seu bolso (valor inicial + todos os aportes mensais).</p>
                <div class="result-line">
                    <span>Total em Juros (Magia dos Juros Compostos):</span>
                    <span id="resultado-total-juros">R$ 0,00</span>
                </div>
                 <p class="explanation-text">Este √© o dinheiro que o seu dinheiro gerou para si ao longo do tempo. √â a diferen√ßa entre o Valor Final e o Total Investido.</p>
                <button id="salvar-investimentos-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar Simula√ß√£o</button>
            </div>
        </div>
    </div>

    <!-- TELA DE C√ÅLCULO DE F√âRIAS -->
    <div id="ferias-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>C√°lculo de F√©rias</h1>
                <p>Planeie o seu descanso e saiba quanto ir√° receber.</p>
            </div>
            <div class="input-group">
                <label for="ferias-salario-bruto">Sal√°rio Bruto Mensal</label>
                <input type="number" id="ferias-salario-bruto" class="input-field" placeholder="Ex: 3500.00">
                <label for="ferias-dias">Dias de F√©rias a Tirar</label>
                <input type="number" id="ferias-dias" class="input-field" placeholder="Ex: 30" value="30">
                
                <div class="checkbox-group">
                    <input type="checkbox" id="ferias-vender-dias">
                    <label for="ferias-vender-dias">Vender 10 dias de f√©rias (abono pecuni√°rio)?</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="ferias-adiantar-13">
                    <label for="ferias-adiantar-13">Adiantar a 1¬™ parcela do 13¬∫ sal√°rio?</label>
                </div>
            </div>
            <button id="calcular-ferias-btn" class="btn btn-primary">Calcular F√©rias</button>
            <button id="back-to-dashboard-from-ferias" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            
            <div id="ferias-results-section" class="results-section hidden">
                <div class="result-line">
                    <span>F√©rias Brutas (Sal√°rio Proporcional):</span>
                    <span id="resultado-ferias-brutas">R$ 0,00</span>
                </div>
                <div class="result-line">
                    <span>Ter√ßo Constitucional (1/3 do Sal√°rio):</span>
                    <span id="resultado-terco-constitucional">R$ 0,00</span>
                </div>
                <div class="result-line" id="abono-pecuniario-line">
                    <span>Abono Pecuni√°rio (venda de 10 dias):</span>
                    <span id="resultado-abono-pecuniario">R$ 0,00</span>
                </div>
                <hr>
                 <div class="result-line">
                    <span>Total Bruto (Base para Descontos):</span>
                    <span id="resultado-total-bruto-ferias">R$ 0,00</span>
                </div>
                <div class="result-line">
                    <span>Desconto INSS sobre F√©rias:</span>
                    <span id="resultado-inss-ferias">- R$ 0,00</span>
                </div>
                <div class="result-line">
                    <span>Desconto IRRF sobre F√©rias:</span>
                    <span id="resultado-irrf-ferias">- R$ 0,00</span>
                </div>
                <div class="result-line" id="adiantamento-13-line">
                    <span>Adiantamento 13¬∫ Sal√°rio:</span>
                    <span id="resultado-adiantamento-13">R$ 0,00</span>
                </div>
                <hr>
                <div class="result-line final-result">
                    <span>L√≠quido a Receber:</span>
                    <span id="resultado-liquido-ferias" class="font-bold">R$ 0,00</span>
                </div>
                <button id="salvar-ferias-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar C√°lculo</button>
            </div>
        </div>
    </div>

    <!-- TELA DE C√ÅLCULO DO 13¬∫ SAL√ÅRIO -->
    <div id="decimo-terceiro-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>C√°lculo de 13¬∫ Sal√°rio</h1>
                <p>Veja o valor do seu 13¬∫ sal√°rio e os descontos.</p>
            </div>
            <div class="input-group">
                <label for="decimo-terceiro-salario-bruto">Sal√°rio Bruto Mensal</label>
                <input type="number" id="decimo-terceiro-salario-bruto" class="input-field" placeholder="Ex: 3500.00">
                <label for="decimo-terceiro-meses">Meses Trabalhados no Ano</label>
                <input type="number" id="decimo-terceiro-meses" class="input-field" placeholder="Ex: 12" value="12">
                <label for="decimo-terceiro-dependentes">N√∫mero de Dependentes (para IRRF)</label>
                <input type="number" id="decimo-terceiro-dependentes" class="input-field" placeholder="Ex: 1" value="0">
            </div>
            <button id="calcular-decimo-terceiro-btn" class="btn btn-primary">Calcular 13¬∫ Sal√°rio</button>
            <button id="back-to-dashboard-from-decimo-terceiro" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            
            <div id="decimo-terceiro-results-section" class="results-section hidden">
                <div class="result-line">
                    <span>13¬∫ Sal√°rio Bruto (Proporcional):</span>
                    <span id="resultado-13-bruto">R$ 0,00</span>
                </div>
                <hr>
                <p class="explanation-text">A primeira parcela (paga at√© novembro) corresponde a 50% do bruto, sem descontos.</p>
                <div class="result-line">
                    <span>1¬™ Parcela (L√≠quida):</span>
                    <span id="resultado-13-primeira-parcela">R$ 0,00</span>
                </div>
                <hr>
                <p class="explanation-text">A segunda parcela (paga at√© dezembro) corresponde aos outros 50% do bruto, mas com os descontos de INSS e IRRF sobre o valor total.</p>
                <div class="result-line">
                    <span>2¬™ Parcela (Valor Bruto):</span>
                    <span id="resultado-13-segunda-parcela-bruta">R$ 0,00</span>
                </div>
                <div class="result-line">
                    <span>Desconto INSS (sobre o total):</span>
                    <span id="resultado-inss-13">- R$ 0,00</span>
                </div>
                <div class="result-line">
                    <span>Desconto IRRF (sobre o total):</span>
                    <span id="resultado-irrf-13">- R$ 0,00</span>
                </div>
                 <div class="result-line">
                    <span>2¬™ Parcela (L√≠quida):</span>
                    <span id="resultado-13-segunda-parcela-liquida">R$ 0,00</span>
                </div>
                <hr>
                <div class="result-line final-result">
                    <span>Total L√≠quido do 13¬∫ (Soma das Parcelas):</span>
                    <span id="resultado-13-liquido-total" class="font-bold">R$ 0,00</span>
                </div>
                <button id="salvar-decimo-terceiro-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar C√°lculo</button>
            </div>
        </div>
    </div>

    <!-- TELA "QUANTO VALE A MINHA HORA?" -->
    <div id="hora-valor-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Quanto Vale a Minha Hora?</h1>
                <p>Descubra o valor real do seu tempo de trabalho.</p>
            </div>
            <div class="input-group">
                <label for="hora-valor-salario">Sal√°rio Mensal (L√≠quido ou Bruto)</label>
                <input type="number" id="hora-valor-salario" class="input-field" placeholder="Ex: 3500.00">
                <label for="hora-valor-horas-dia">Horas Trabalhadas por Dia</label>
                <input type="number" id="hora-valor-horas-dia" class="input-field" placeholder="Ex: 8" value="8">
                <label for="hora-valor-dias-semana">Dias Trabalhados na Semana</label>
                <input type="number" id="hora-valor-dias-semana" class="input-field" placeholder="Ex: 5" value="5">
            </div>
            <button id="calcular-hora-valor-btn" class="btn btn-primary">Calcular Valor da Hora</button>
            <button id="back-to-dashboard-from-hora-valor" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            
            <div id="hora-valor-results-section" class="results-section hidden">
                <div class="result-line final-result">
                    <span>O valor da sua hora √©:</span>
                    <span id="resultado-hora-valor" class="font-bold">R$ 0,00</span>
                </div>
                <p class="explanation-text" id="explicacao-hora-valor"></p>
                <button id="salvar-hora-valor-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar Resultado</button>
            </div>
        </div>
    </div>

    <!-- TELA DO SIMULADOR DE IRPF ANUAL -->
    <div id="irpf-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Simulador de IRPF Anual</h1>
                <p>Preencha os campos para simular a sua declara√ß√£o.</p>
            </div>
            <div class="input-group">
                <label for="rendimentos-anuais">Total de Rendimentos Anuais (sal√°rio, etc.)</label>
                <input type="number" id="rendimentos-anuais" class="input-field" placeholder="Ex: 50000.00">
                <label for="despesas-saude">Total de Despesas com Sa√∫de (dedut√≠vel)</label>
                <input type="number" id="despesas-saude" class="input-field" placeholder="Ex: 3000.00">
                <label for="despesas-educacao">Total de Despesas com Educa√ß√£o (dedut√≠vel)</label>
                <input type="number" id="despesas-educacao" class="input-field" placeholder="Ex: 5000.00">
                <label for="dependentes">N√∫mero de Dependentes</label>
                <input type="number" id="dependentes" class="input-field" placeholder="Ex: 2">
            </div>
            <button id="calcular-irpf-btn" class="btn btn-primary">Calcular IRPF Anual</button>
            <button id="back-to-dashboard-from-irpf" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            <div id="irpf-results-section" class="results-section hidden">
                <div class="result-line">
                    <span>Imposto Devido (Declara√ß√£o Completa):</span>
                    <span id="resultado-irpf-completa">R$ 0,00</span>
                </div>
                <p class="explanation-text">Considera todas as suas despesas dedut√≠veis (sa√∫de, educa√ß√£o, dependentes) para abater do imposto.</p>
                <div class="result-line">
                    <span>Imposto Devido (Declara√ß√£o Simplificada):</span>
                    <span id="resultado-irpf-simplificada">R$ 0,00</span>
                </div>
                <p class="explanation-text">Aplica um desconto padr√£o de 20% sobre os seus rendimentos, limitado a um teto definido pela Receita Federal.</p>
                <hr>
                <div id="recomendacao-irpf" class="text-center font-bold">
                    <p>Recomenda√ß√£o: -</p>
                </div>
                <button id="salvar-irpf-btn" class="btn btn-secondary hidden" style="max-width: 600px; margin: 10px auto 0;">Salvar Simula√ß√£o</button>
            </div>
        </div>
    </div>

    <!-- TELA DE PERFIL DO UTILIZADOR -->
    <div id="profile-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Meu Perfil</h1>
                <p>Guarde as suas informa√ß√µes padr√£o para preencher as calculadoras automaticamente.</p>
            </div>
            <div class="input-group">
                <label for="profile-salario-bruto">Sal√°rio Bruto Mensal Padr√£o</label>
                <input type="number" id="profile-salario-bruto" class="input-field" placeholder="Ex: 4500.00">
                <label for="profile-dependentes">N√∫mero de Dependentes</label>
                <input type="number" id="profile-dependentes" class="input-field" placeholder="Ex: 2" value="0">
                <label for="profile-horas-dia">Horas Trabalhadas por Dia</label>
                <input type="number" id="profile-horas-dia" class="input-field" placeholder="Ex: 8" value="8">
                <label for="profile-dias-semana">Dias Trabalhados na Semana</label>
                <input type="number" id="profile-dias-semana" class="input-field" placeholder="Ex: 5" value="5">
            </div>
            <button id="salvar-perfil-btn" class="btn btn-primary">Salvar Perfil</button>
            <button id="back-to-dashboard-from-profile" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
            <p id="profile-status-message" class="explanation-text text-center hidden"></p>
        </div>
    </div>
 <!-- TELA DE RELAT√ìRIOS / VIS√ÉO GERAL -->
<div id="reports-screen" class="screen hidden">
    <div class="calculator-card">
        <div class="card-header">
            <h1>Minha Vis√£o Geral</h1>
            <p>Um resumo visual da sua evolu√ß√£o financeira com base nos seus c√°lculos salvos.</p>
        </div>
        <div id="reports-content">
            <div class="reports-grid">
                <div class="chart-container">
                    <h2>Evolu√ß√£o do Sal√°rio L√≠quido Salvo</h2>
                    <canvas id="salary-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h2>Proje√ß√µes de Investimento Salvas</h2>
                    <canvas id="investment-chart"></canvas>
                </div>
            </div>
            <div class="summary-cards-grid">
                <div class="summary-card">
                    <h3>Valor do Dia de Trabalho (L√≠quido)</h3>
                    <p id="summary-daily-value" class="font-bold">R$ 0,00</p>
                </div>
                <div class="summary-card">
                    <h3>13¬∫ Sal√°rio Estimado (L√≠quido)</h3>
                    <p id="summary-13th-value" class="font-bold">R$ 0,00</p>
                </div>
            </div>
        </div>
        <p id="reports-notice" class="explanation-text text-center hidden">
            Para ver os seus relat√≥rios, primeiro salve as suas informa√ß√µes na tela 'Meu Perfil'.
        </p>
        <button id="back-to-dashboard-from-reports" class="btn btn-secondary">Voltar para a Dashboard CLT</button>
    </div>
</div>

    <!-- ======================================================= -->
    <!-- NOVA TELA DE HIST√ìRICO                          -->
    <!-- ======================================================= -->
    <div id="historico-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Meu Hist√≥rico de C√°lculos</h1>
                <p>Aqui ficam registados todos os resultados que voc√™ salvou.</p>
            </div>
            
            <div id="historico-lista" class="results-section">
                <p class="explanation-text text-center">A carregar o seu hist√≥rico...</p>
            </div>

            <button id="back-to-dashboard-from-historico" class="btn btn-secondary">Voltar para a Dashboard</button>
        </div>
    </div>

    <!-- ======================================================= -->
    <!-- TELA DE INDEPEND√äNCIA FINANCEIRA (P√â DE MEIA)           -->
    <!-- ======================================================= -->
    <div id="aposentadoria-screen" class="screen hidden">
        <div class="calculator-card">
            <div class="card-header">
                <h1>Plano de Independ√™ncia Financeira (P√© de Meia)</h1>
                <p class="explanation-text" style="max-width: 600px; margin: 0 auto;">Esta ferramenta n√£o calcula a sua aposentadoria do INSS. Ela ajuda a planear o seu "p√© de meia": quanto voc√™ precisa de juntar para poder viver dos seus pr√≥prios rendimentos no futuro.</p>
            </div>
            <div class="input-group">
                <label for="aposentadoria-idade-atual">A sua Idade Atual</label>
                <input type="number" id="aposentadoria-idade-atual" class="input-field" placeholder="Ex: 30">
                
                <label for="aposentadoria-idade-objetivo">Com que Idade Deseja Atingir a Independ√™ncia?</label>
                <input type="number" id="aposentadoria-idade-objetivo" class="input-field" placeholder="Ex: 60">

                <label for="aposentadoria-patrimonio-atual">O seu "P√© de Meia" Atual (Quanto j√° tem guardado)</label>
                <input type="number" id="aposentadoria-patrimonio-atual" class="input-field" placeholder="Ex: 50000.00">

                <label for="aposentadoria-aporte-mensal">Quanto Consegue Guardar por M√™s?</label>
                <input type="number" id="aposentadoria-aporte-mensal" class="input-field" placeholder="Ex: 500.00">
                
                <label for="aposentadoria-renda-desejada">Renda Mensal Desejada (Para viver dos rendimentos)</label>
                <input type="number" id="aposentadoria-renda-desejada" class="input-field" placeholder="Ex: 5000.00">
            </div>
            <button id="calcular-aposentadoria-btn" class="btn btn-primary">Fazer Proje√ß√£o</button>
            <button id="back-to-dashboard-from-aposentadoria" class="btn btn-secondary">Voltar para a Dashboard</button>
            
            <div id="aposentadoria-results-section" class="results-section hidden">
                <div class="result-line">
                    <span>Sua Meta (Seu "P√© de Meia" Ideal):</span>
                    <span id="resultado-aposentadoria-objetivo" class="font-bold">R$ 0,00</span>
                </div>
                <p class="explanation-text">Este √© o valor total que voc√™ precisa de ter investido para gerar a renda mensal desejada, com base na "Regra dos 4%". Veja mais na aba "Par√¢metros".</p>
                <hr>
                <div class="result-line final-result">
                    <span>Sua Fortuna Projetada:</span>
                    <span id="resultado-aposentadoria-projecao" class="font-bold success-text">R$ 0,00</span>
                </div>
                <p class="explanation-text">Este √© o valor que voc√™ provavelmente ter√° na idade desejada, considerando os seus aportes e uma taxa de juros realista (6% ao ano, acima da infla√ß√£o).</p>
                <hr>
                <div id="aposentadoria-recomendacao" class="text-center font-bold">
                    <p>Recomenda√ß√£o: -</p>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL SOBRE N√ìS E PAR√ÇMETROS -->
    <div id="about-modal-overlay" class="modal-overlay hidden">
        <div class="calculator-card">
            <div class="modal-header">
                <h1>Sobre a √§nalitks</h1>
                <button id="close-about-btn" class="close-btn">&times;</button>
            </div>

            <div class="modal-tabs">
                <button id="tab-sobre-btn" class="tab-btn active">Sobre</button>
                <button id="tab-parametros-btn" class="tab-btn">Par√¢metros de C√°lculo</button>
            </div>

            <div id="tab-sobre-content">
                <p class="brasao">"aqui o futuro e o passado tem a mesma frase"</p>
                <h2>A Nossa Miss√£o</h2>
                <p>A "√§nalitks" nasceu de uma pergunta simples: como podemos dar ao trabalhador brasileiro as mesmas ferramentas de an√°lise financeira que os grandes especialistas usam, mas de forma simples, transparente e gratuita?</p>
                <p>A nossa miss√£o √© descodificar o "financ√™s". Acreditamos que, ao entender exatamente para onde vai cada c√™ntimo do seu sal√°rio, como os seus investimentos podem crescer e como se planear para o futuro, voc√™ ganha o poder de tomar as melhores decis√µes.</p>
                <h2>Desenvolvimento</h2>
                <ul>
                    <li><strong>Criado por:</strong> Sandro V. Lima, Kauan S. Mota e Erick C. Cardoso</li>
                    <li><strong>Projeto:</strong> Trabalho de Conclus√£o de Curso - An√°lise e Desenvolvimento de Sistemas (ADS)</li>
                    <li><strong>Tecnologias:</strong> Constru√≠do com HTML, CSS e JavaScript puros, com o Supabase a potenciar a gest√£o segura de utilizadores.</li>
                </ul>
            </div>

            <div id="tab-parametros-content" class="hidden">
                <h2>INSS (Instituto Nacional do Seguro Social)</h2>
                <p>O INSS √© um desconto progressivo. Isto significa que quem ganha mais, contribui com uma percentagem maior, mas apenas sobre cada "fatia" do sal√°rio. A nossa calculadora usa a tabela oficial mais recente para estimar este valor.</p>
                <div class="param-chart">
                    <div class="chart-bar inss-bar-1"><span>At√© R$ 1.412,00</span><span>7,5%</span></div>
                    <div class="chart-bar inss-bar-2"><span>De R$ 1.412,01 at√© R$ 2.666,68</span><span>9%</span></div>
                    <div class="chart-bar inss-bar-3"><span>De R$ 2.666,69 at√© R$ 4.000,03</span><span>12%</span></div>
                    <div class="chart-bar inss-bar-4"><span>De R$ 4.000,04 at√© R$ 7.786,02</span><span>14%</span></div>
                </div>

                <h2>IRRF (Imposto de Renda Retido na Fonte)</h2>
                <p>Similar ao INSS, o IRRF tamb√©m √© progressivo. O c√°lculo √© feito sobre o sal√°rio bruto menos o desconto do INSS e um valor fixo por cada dependente legal.</p>
                 <div class="param-chart">
                    <div class="chart-bar irrf-bar-1"><span>At√© R$ 2.259,20</span><span>Isento</span></div>
                    <div class="chart-bar irrf-bar-2"><span>De R$ 2.259,21 at√© R$ 2.826,65</span><span>7,5%</span></div>
                    <div class="chart-bar irrf-bar-3"><span>De R$ 2.826,66 at√© R$ 3.751,05</span><span>15%</span></div>
                    <div class="chart-bar irrf-bar-4"><span>De R$ 3.751,06 at√© R$ 4.664,68</span><span>22,5%</span></div>
                    <div class="chart-bar irrf-bar-5"><span>Acima de R$ 4.664,68</span><span>27,5%</span></div>
                </div>
                
                <h2>Independ√™ncia Financeira (A Regra dos 4%)</h2>
                <p>Para planear o seu "p√© de meia", usamos um princ√≠pio universal: para saber quanto dinheiro voc√™ precisa de ter investido (a sua Meta), basta multiplicar a **renda ANUAL** que voc√™ deseja por **25**.</p>
                <p class="explanation-text">Exemplo: Para uma renda de R$ 5.000/m√™s (R$ 60.000/ano), a sua meta √© R$ 60.000 x 25 = R$ 1.500.000,00.</p>
            </div>

        </div>
    </div>


    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="main.js"></script>
    <script src="app.js"></script>

</body>
</html>

